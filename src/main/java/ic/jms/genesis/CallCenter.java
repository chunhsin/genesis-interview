package ic.jms.genesis;

import ic.jms.genesis.employees.Fresher;
import ic.jms.genesis.employees.ProductManager;
import ic.jms.genesis.employees.TechnicalLeader;

import java.util.ArrayList;
import java.util.List;

/*
 * This Java source file was generated by the Gradle 'init' task.
 */
public class CallCenter {

    private static final int maxFreshers = 10;
    private List<Employee> fresherList = new ArrayList<>();
    private Employee specialEmployee;

    public CallCenter() {
        this.initEmployee();
    }

    public void receiveACall() {
        for (Employee employee : fresherList) {
            if (employee.isFree()) {
                if(!employee.canHandleCall()){
                    specialEmployee.canHandleCall();
                }
            }
        }
    }

    private void initEmployee() {
        specialEmployee = Math.random()>0.5 ? new TechnicalLeader() : new ProductManager();
        for (int i = 0; i < maxFreshers; i++) {
            fresherList.add(new Fresher());
        }
    }
}
